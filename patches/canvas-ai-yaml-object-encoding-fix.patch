--- a/modules/canvas_ai/src/Form/CanvasAiComponentDescriptionSettingsForm.php
+++ b/modules/canvas_ai/src/Form/CanvasAiComponentDescriptionSettingsForm.php
@@ -118,7 +118,7 @@ final class CanvasAiComponentDescriptionSettingsForm extends ConfigFormBase {

       $this->config('canvas_ai.component_description.settings')
         ->set('component_context.' . $source . '.enabled', $components['enabled'])
-        ->set('component_context.' . $source . '.data', Yaml::encode($available_components[$source]['components']))
+        ->set('component_context.' . $source . '.data', Yaml::encode($this->sanitizeForYaml($available_components[$source]['components'])))
         ->save();
     }
     parent::submitForm($form, $form_state);
@@ -262,4 +262,27 @@ final class CanvasAiComponentDescriptionSettingsForm extends ConfigFormBase {
     return NULL;
   }

+  /**
+   * Recursively sanitizes an array for YAML encoding.
+   *
+   * Converts any objects (like TranslatableMarkup) to strings.
+   *
+   * @param mixed $data
+   *   The data to sanitize.
+   *
+   * @return mixed
+   *   The sanitized data with all objects converted to strings.
+   */
+  private function sanitizeForYaml(mixed $data): mixed {
+    if (is_object($data)) {
+      return (string) $data;
+    }
+    if (is_array($data)) {
+      return array_map(function ($item) {
+        return $this->sanitizeForYaml($item);
+      }, $data);
+    }
+    return $data;
+  }
+
 }
